谷歌相册工具
===

将谷歌相册导出的图片进行处理。

1. 批量修改时间，让其在时间戳上正确显示
2. 与现有的照片库进行比对，去重

Google 相册只有 15GB 空间，虽然普通照片不占用大小，但是拍几个视频就满了，而国内又无法扩容、购买 Google One，于是只能另想办法了。

本来也有用其他云相册、自己硬盘定时冷备份，想要再加另一个途径。

于是买了威联通 NAS，在各平台统一用自带的 QuMagie / QSync 可以自动备份。但是在谷歌相册上还有许许多多早起的图片视频，并不在现在的手机上。而硬盘上的冷备份文件，有些不带 Exif 信息，复制时会自动把创建时间/修改时间都改成最新的（解决方法是电脑开 FTP 服务，手机通过 FTP 工具上传，这样能保留时间），不同时间段的照片都会是同一天同一时刻的文件，在时间戳上就乱掉了。

因此手动导出谷歌相册的所有照片：(导出路径)[https://takeout.google.com/settings/takeout]。下载的是多个压缩包，需要手动全部解压到同一个文件夹进行合并。但是获得的所有文件，修改时间都是导出但没下载的时候，创建时间都是解压的时候，如果直接上传到照片库，那么这些老照片都会显示在最新的位置，而不是实际上的时间线。

用这个工具，可以将谷歌相册导出的照片进行去重导入。

有几个注意点：

- 每一个媒体文件都对应一个包含时间的 JSON 文件，如 `xxx.png`，就会有 `xxx.png.json` 文件
- 如果是谷歌相册编辑过的文件，如 `xxx.png`，会重命名为 `xxx-已修改.png`，此时会有 `xxx.png.json` 文件，但不会有 `xxx.png.json` 文件
- 如果上传的文件有重名的，则会把新的 `xxx.png` 重命名为 `xxx (1).png`，但对应的 JSON 是 `xxx.png(1).json`，注意空格
- 如果源文件名加上后缀名超过46个字符，那么会取前46个，假设 `xxx.jpg` 长 47 字符，则对应 JSON 为 `xxx.jp.json`